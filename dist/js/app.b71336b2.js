(function(){"use strict";var e={1695:function(e,t,i){var a=i(9242),n=i(3396),s=i(7139);const r={class:"border-b-2"},l={class:"container mx-auto px-4 py-4 flex justify-between items-center"},o={class:"user-name"},d=(0,n._)("span",{class:"md:text-xl sm:text-sm"},"Hello,",-1),c={class:"md:text-2xl sm:text-lg font-bold"},u={class:"search max-w-xl"},p={class:"wrapper container mx-auto px-4 py-4"},m={class:"w-full mb-8 md:font-light sm:text-xl"},h=(0,n.Uk)(" Погода в городе: "),g={key:0,class:"text-4xl font-bold"},f={key:1,class:"loader"},w={key:0,class:"grid grid-cols-2 grid-rows-auto grid-flow-d gap-5 lx:justify-items-center"},b={key:1,class:"w-full h-16 flex justify-center items-center"},x=(0,n._)("span",{class:"loader"},null,-1),y=[x];function v(e,t,i,x,v,_){const k=(0,n.up)("app-weather"),W=(0,n.up)("app-wind"),j=(0,n.up)("App-popup");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("header",r,[(0,n._)("div",l,[(0,n._)("div",o,[d,(0,n._)("h3",c,(0,s.zw)(v.userName),1)]),(0,n._)("div",u,[(0,n._)("input",{class:"max-w-96 bg-gray-50 border-2 rounded-md border-gray-200 p-2 outline-1 outline-orange-400 text-gray-800 focus:shadow-md shadow-orange-500 transition-shadow",type:"text",placeholder:"Город",onKeyup:t[0]||(t[0]=(0,a.D2)(((...e)=>_.location&&_.location(...e)),["enter"]))},null,32)])])]),(0,n._)("main",p,[(0,n._)("div",m,[h,v.weather?((0,n.wg)(),(0,n.iD)("h1",g,(0,s.zw)(v.weather.city),1)):((0,n.wg)(),(0,n.iD)("span",f))]),v.weather?((0,n.wg)(),(0,n.iD)("div",w,[(0,n.Wm)(k,{desc:v.weather.desc,temp:v.weather.temp,presure:v.weather.grnd_level,visibility:v.weather.visibility,humidity:v.weather.humidity,feels_like:v.weather.feels_like,imageWeater:v.weather.image},null,8,["desc","temp","presure","visibility","humidity","feels_like","imageWeater"]),(0,n.Wm)(W,{wind_deg:v.weather.wind_deg,wind_speed:v.weather.wind_speed,imageWind:v.weather.imageWind},null,8,["wind_deg","wind_speed","imageWind"])])):((0,n.wg)(),(0,n.iD)("div",b,y))]),v.userName?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(j,{key:0,onHandle:_.handleClick},null,8,["onHandle"]))],64)}const _={class:"popup fixed top-0 left-0 right-0 bottom-0 flex justify-center items-center bg-gray-500 bg-opacity-60 z-[999]"},k={class:"xl:w-1/3 md:w-1/2 sm:w-1/2 h-60 bg-white text-black border-2 rounded-lg p-6 shadow-md z-10 relative"},W=(0,n._)("h5",{class:"font-medium text-lg mb-10"},"Your Name?",-1),j={class:"flex justify-end"};function z(e,t,i,s,r,l){return(0,n.wg)(),(0,n.iD)("div",_,[(0,n._)("div",k,[W,(0,n.wy)((0,n._)("input",{class:"w-full border-2 rounded-md bg-gray-50 p-2 outline-1 outline-orange-400 focus:shadow-md shadow-orange-500 mb-4",type:"text",name:"name",id:"name",placeholder:"Ivan Pertov",autocomplete:"off","onUpdate:modelValue":t[0]||(t[0]=e=>r.fullName=e)},null,512),[[a.nr,r.fullName]]),(0,n._)("div",j,[(0,n._)("button",{onClick:t[1]||(t[1]=(0,a.iM)((t=>e.$emit("handle",this.firstUpperCase)),["stop"])),class:"px-6 py-2 bg-orange-400 rounded-md text-white hover:translate-y-1 transition-transform font-medium tracking-wide"}," Done ")])])])}var D={name:"App-popup",data(){return{fullName:""}},computed:{firstUpperCase(){return this.fullName.charAt(0).toUpperCase()+this.fullName.slice(1)}},methods:{}},N=i(89);const C=(0,N.Z)(D,[["render",z]]);var U=C;const O={class:"max-w-3/4 md:w-full h-[300px] flex flex-col justify-between border-2 rounded-xl p-5 overflow-hidden relative"},A={class:"h-full flex flex-col justify-between z-50"},I={class:"card-header"},M={class:"text-2xl font-medium text-white"},S={class:"card-body mb-4 flex gap-5"},Z={class:"text-color font-bold text-white text-5xl inline"},F={class:"text-color h-min px-2 py-1 bg-slate-200 rounded-xl text-sm"},T={class:"card-footer flex gap-2"},H={class:"min-w-min w-1/3 rounded-xl bg-slate-800 text-center p-2"},P=(0,n._)("span",{class:"text-white font-light mb-2 md:text-base text-xs"},"Давление",-1),$={class:"text-white font-medium md:text-xl sm:text-base"},q=(0,n._)("span",{class:"font-light"},"мм",-1),L={class:"min-w-min w-1/3 rounded-xl bg-lime-300 text-center p-2"},Y=(0,n._)("span",{class:"font-light text-color mb-2 md:text-base text-xs"},"Видимость",-1),E={class:"text-color font-medium md:text-xl sm:text-base"},J=(0,n._)("span",{class:"font-normal"},"км",-1),B={class:"w-1/3 rounded-xl bg-slate-50 text-center p-2"},K=(0,n._)("span",{class:"font-light text-color mb-2 md:text-base text-xs"},"Влажность",-1),V={class:"text-color font-medium md:text-xl sm:text-base"},Q=(0,n._)("span",{class:"font-normal"},"%",-1);function R(e,t,i,a,r,l){return(0,n.wg)(),(0,n.iD)("div",O,[(0,n._)("div",{class:"overlay absolute top-0 left-0 bottom-0 right-0 bg-no-repeat bg-center bg-cover bg-slate-700",style:(0,s.j5)({backgroundImage:`url(${i.imageWeater})`})},null,4),(0,n._)("div",A,[(0,n._)("div",I,[(0,n._)("p",M,(0,s.zw)(i.desc),1)]),(0,n._)("div",S,[(0,n._)("h4",Z,(0,s.zw)(l.changeTemp)+" °C ",1),(0,n._)("div",F,(0,s.zw)(l.changeFeelsLike)+" °C ",1)]),(0,n._)("div",T,[(0,n._)("div",H,[P,(0,n._)("p",$,[(0,n.Uk)((0,s.zw)(l.changePresure)+" ",1),q])]),(0,n._)("div",L,[Y,(0,n._)("p",E,[(0,n.Uk)((0,s.zw)(l.changevisibility)+" ",1),J])]),(0,n._)("div",B,[K,(0,n._)("p",V,[(0,n.Uk)((0,s.zw)(l.changevisibility)+" ",1),Q])])])])])}var X={props:["desc","temp","presure","visibility","humidity","feels_like","imageWeater"],computed:{changeTemp(){return"number"===typeof this.temp?this.temp.toFixed(0):this.temp},changePresure(){return"number"===typeof this.presure?(this.presure/1.333).toFixed(0):this.presure},changevisibility(){return"number"===typeof this.visibility?this.visibility/1e3:this.visibility},changeFeelsLike(){return"number"===typeof this.feels_like?this.feels_like.toFixed(0):this.feels_like}}};const G=(0,N.Z)(X,[["render",R]]);var ee=G;const te=e=>((0,n.dD)("data-v-37731442"),e=e(),(0,n.Cn)(),e),ie={class:"max-w-3/4 lg:w-full h-[300px] flex flex-col justify-between border-2 rounded-xl p-5 bg-cover lg:bg-bottom relative overflow-hidden"},ae={class:"h-full flex flex-col justify-between z-50"},ne=te((()=>(0,n._)("div",{class:"card-header"},[(0,n._)("p",{class:"text-2xl text-white font-medium"},"Сила ветра")],-1))),se={class:"card-body mb-4"},re={class:"text-white font-bold text-5xl inline"},le={class:"text-white"},oe={class:"card-footer flex gap-2"},de=te((()=>(0,n._)("span",{class:"absolute left-4 top-1 font-medium"},"Слабый",-1))),ce=te((()=>(0,n._)("span",{class:"absolute right-4 top-1 font-medium"},"Сильный",-1))),ue={class:"w-full h-3 overflow-hidden rounded-md"};function pe(e,t,i,a,r,l){return(0,n.wg)(),(0,n.iD)("div",ie,[(0,n._)("div",{class:"overlay absolute top-0 left-0 bottom-0 right-0 bg-no-repeat bg-center bg-cover bg-slate-700",style:(0,s.j5)({backgroundImage:`url(${i.imageWind})`})},null,4),(0,n._)("div",ae,[ne,(0,n._)("div",se,[(0,n._)("h4",re,(0,s.zw)(i.wind_speed)+" м/с ",1),(0,n._)("div",le,(0,s.zw)(l.changeDeg)+" ветер",1)]),(0,n._)("div",oe,[(0,n._)("div",{class:(0,s.C_)(["w-full h-18 bg-gray-100 rounded-lg p-2 relative flex items-end",i.wind_speed>20?"bg-red-500":""])},[de,ce,(0,n._)("div",ue,[(0,n._)("span",{style:(0,s.j5)({width:l.changeWindSpeed+"%"}),class:"h-3 block bg-green-300"},null,4)])],2)])])])}var me={props:["wind_deg","wind_speed","imageWind"],data(){return{}},computed:{changeDeg(){const e=["Северный","Северо-восточный","Восточный","Юго-восточный","Южный","Юго-западный","Запад","Северо-западный"];let t=8*this.wind_deg/360;return t=Math.round(t,0),t=(t+8)%8,e[t]},changeWindSpeed(){return 100*this.wind_speed/32}}};const he=(0,N.Z)(me,[["render",pe],["__scopeId","data-v-37731442"]]);var ge=he,fe=i(2482);class we{constructor(){(0,fe.Z)(this,"lat",null),(0,fe.Z)(this,"lon",null),(0,fe.Z)(this,"cityName",null)}async init(e="moscow"){try{const t=`https://api.openweathermap.org/geo/1.0/direct?q=${e}&appid=54f7baa692789426f3659884c7c81973`,i=await fetch(t),a=await i.json();return this.cityName=a[0].local_names["ru"],this.lat=a[0].lat,this.lon=a[0].lon,this.getWeather()}catch(t){return alert("..упс, нет такого города"),this.init()}}async getWeather(){const e=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${this.lat}&lon=${this.lon}&lang=ru&appid=54f7baa692789426f3659884c7c81973&units=metric`),t=await e.json();return{city:this.cityName,icon:t.weather[0].icon,temp:t.main.temp,feels_like:t.main.feels_like,humidity:t.main.humidity,grnd_level:t.main.pressure,wind_speed:t.wind.speed,wind_deg:t.wind.deg,visibility:t.visibility,desc:t.weather[0].description,image:this.backgroundImage(t.weather[0].description),imageWind:this.backgroundWind(t.wind.speed)}}backgroundImage(e){switch(e){case"ясно":return"https://media.giphy.com/media/3SwvKYqfHVM7bUMAlc/giphy.gif";case"облачно с прояснениями":return"https://media.giphy.com/media/3VSM58Eu7kR4A/giphy.gif";case"пасмурно":return"https://media.giphy.com/media/E2d2tsgz7iHo4/giphy.gif";case"небольшой дождь":return"https://media.giphy.com/media/39fj7g99qyD72/giphy.gif";case"сильный дождь":return"https://media.giphy.com/media/129BtnUUD6Lrzi/giphy.gif";case"переменная облачность":return"https://media.giphy.com/media/cAyJEOus3l1BTLUbg6/giphy.gif";default:return"https://media.giphy.com/media/9J7tdYltWyXIY/giphy.gif"}}backgroundWind(e){return e<10.8?"https://media.giphy.com/media/CiTLZWskt7Fu/giphy.gif":13.8<e<20.7?"https://media.giphy.com/media/xBaMqnZ4KS36sUS9Jb/giphy.gif":"https://media.giphy.com/media/9MJ5ozdayMWT7QuA19/giphy.gif"}}var be=new we,xe={components:{AppPopup:U,AppWeather:ee,AppWind:ge},name:"App",data(){return{userName:null,city:"-",weather:null}},async mounted(){localStorage.getItem("name")&&(this.userName=localStorage.getItem("name")),this.weather=await be.init()},methods:{async location(e){this.city=e.target.value[0].toUpperCase()+e.target.value.slice(1),this.weather=await be.init(this.city),e.target.value=""},handleClick(e){this.userName=e,localStorage.setItem("name",this.userName)}}};const ye=(0,N.Z)(xe,[["render",v]]);var ve=ye;(0,a.ri)(ve).mount("#app")}},t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,i),s.exports}i.m=e,function(){var e=[];i.O=function(t,a,n,s){if(!a){var r=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],s=e[c][2];for(var l=!0,o=0;o<a.length;o++)(!1&s||r>=s)&&Object.keys(i.O).every((function(e){return i.O[e](a[o])}))?a.splice(o--,1):(l=!1,s<r&&(r=s));if(l){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[a,n,s]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,s,r=a[0],l=a[1],o=a[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(n in l)i.o(l,n)&&(i.m[n]=l[n]);if(o)var c=o(i)}for(t&&t(a);d<r.length;d++)s=r[d],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(c)},a=self["webpackChunkweater"]=self["webpackChunkweater"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=i.O(void 0,[998],(function(){return i(1695)}));a=i.O(a)})();
//# sourceMappingURL=app.b71336b2.js.map